# 5.1 模拟量基础知识

> 本节将介绍模拟量的基本概念，这是实现温度、压力、流量等连续物理量控制的基础

## 学习目标

- 理解模拟量与数字量的区别
- 掌握模拟量信号的类型和特点
- 了解A/D和D/A转换原理
- 掌握分辨率与精度的概念
- 能够根据应用选择合适的模拟量信号

---

## 1. 模拟量与数字量的区别

### 1.1 基本概念

**数字量（Digital）：**
- 只有两种状态：0和1（OFF和ON）
- 如：按钮、开关、继电器、指示灯

**模拟量（Analog）：**
- 连续变化的物理量
- 在一定范围内可以取任意值
- 如：温度、压力、流量、液位、速度

```
数字量与模拟量对比：

数字量信号：
     │
  1  ├────┐    ┌────┐    ┌────
     │    │    │    │    │
  0  ┼────┴────┴────┴────┴────→ 时间
     │
     只有0和1两种状态

模拟量信号：
     │    ╭─╮
     │   ╱   ╲      ╭──╮
     │  ╱     ╲    ╱    ╲
     │ ╱       ╲──╱      ╲
     ├─────────────────────→ 时间
     │
     连续变化，可取任意值
```

### 1.2 工业中的模拟量应用

| 物理量 | 典型范围 | 传感器类型 | 输出信号 |
|-------|---------|-----------|---------|
| 温度 | -50~500°C | 热电偶、PT100 | mV、电阻 |
| 压力 | 0~10MPa | 压力变送器 | 4-20mA |
| 流量 | 0~100m³/h | 流量计 | 4-20mA |
| 液位 | 0~10m | 液位变送器 | 4-20mA |
| 速度 | 0~3000rpm | 编码器 | 脉冲/电压 |
| 位移 | 0~100mm | 电位器 | 0-10V |

### 1.3 模拟量控制系统架构

```
模拟量控制系统基本架构：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌────────┐│
│  │  传感器   │───→│ 模拟量输入│───→│   PLC    │───→│模拟量  ││
│  │(温度/压力)│    │  模块AI  │    │  CPU     │    │输出AO  ││
│  └──────────┘    └──────────┘    └──────────┘    └───┬────┘│
│       ↑                                              │      │
│       │                                              ↓      │
│  ┌──────────┐                                 ┌──────────┐ │
│  │ 被控对象  │←────────────────────────────────│ 执行机构  │ │
│  │(炉温/管道)│                                 │(变频器等) │ │
│  └──────────┘                                 └──────────┘ │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. 常见模拟量信号类型

### 2.1 信号分类总览

```
模拟量信号类型：
┌─────────────────────────────────────────────────────────────┐
│                      模拟量信号                              │
├───────────────┬───────────────┬───────────────┬────────────┤
│    电压信号    │    电流信号    │    电阻信号    │   热电偶   │
├───────────────┼───────────────┼───────────────┼────────────┤
│ • 0~10V       │ • 4~20mA      │ • PT100       │ • K型      │
│ • -10~+10V    │ • 0~20mA      │ • PT1000      │ • J型      │
│ • 0~5V        │ • 0~10mA      │ • Cu50        │ • T型      │
│ • 1~5V        │               │ • Ni100       │ • E型      │
└───────────────┴───────────────┴───────────────┴────────────┘
```

### 2.2 信号选择原则

| 考虑因素 | 电压信号 | 电流信号 |
|---------|---------|---------|
| 传输距离 | 短距离（<50m） | 长距离（<1000m） |
| 抗干扰能力 | 较弱 | 较强 |
| 断线检测 | 困难 | 容易（电流=0） |
| 接线方式 | 并联 | 串联 |
| 常用场景 | 本地控制 | 现场仪表 |

---

## 3. 电压信号

### 3.1 0-10V信号

**特点：**
- 单极性电压信号
- 0V对应测量下限，10V对应测量上限
- 常用于本地模拟量传输

```
0-10V信号对应关系：

电压(V)
  10 ├────────────────────────● 满量程(100%)
     │                      ╱
   8 ├────────────────────●
     │                  ╱
   6 ├────────────────●
     │              ╱
   4 ├────────────●
     │          ╱
   2 ├────────●
     │      ╱
   0 ├────●──────────────────→ 测量值
     │   0%                100%

示例：0-10V对应0-100°C
     5V = 50°C
     7.5V = 75°C
```

**接线方式：**

```
0-10V传感器接线：
┌────────────────────────────────────────┐
│                                        │
│  传感器                    PLC模拟输入  │
│  ┌─────┐                  ┌─────────┐ │
│  │     │ V+ ─────────────→ CH+ │     │ │
│  │ 0-10V│                  │   AI   │ │
│  │     │ GND ────────────→ COM │     │ │
│  └─────┘                  └─────────┘ │
│                                        │
│  注意：信号线和电源地应分开接线          │
│                                        │
└────────────────────────────────────────┘
```

### 3.2 ±10V信号

**特点：**
- 双极性电压信号
- 可表示正负方向
- 常用于速度、位置控制

```
±10V信号应用示例（速度控制）：

电压(V)
 +10 ├────────────────────● 正向满速
     │                  ╱
  +5 ├────────────────●
     │              ╱
   0 ├────────────●──────── 停止
     │          ╱
  -5 ├────────●
     │      ╱
 -10 ├────●────────────────→ 速度
        反向满速    正向满速

应用：伺服驱动器速度指令
     +10V = +3000rpm（正转）
     -10V = -3000rpm（反转）
       0V = 停止
```

### 3.3 电压信号优缺点

**优点：**
- 接线简单
- 成本低
- 响应速度快

**缺点：**
- 传输距离短
- 易受干扰
- 压降影响精度

---

**【阶段总结1】** 到目前为止，已介绍：
1. 模拟量与数字量的基本区别
2. 工业中模拟量的典型应用场景
3. 模拟量信号的分类（电压/电流/电阻/热电偶）
4. 电压信号（0-10V和±10V）的特点和接线方式

继续填充电流信号和A/D转换部分：

---

## 4. 电流信号

### 4.1 4-20mA信号

**为什么是4-20mA而不是0-20mA？**

```
4-20mA vs 0-20mA：

4-20mA信号优势：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  1. 断线检测                                                │
│     正常工作：4mA ≤ I ≤ 20mA                                │
│     断线故障：I = 0mA（可检测！）                            │
│     短路故障：I > 20mA（可检测！）                           │
│                                                             │
│  2. 活零点                                                  │
│     4mA代表0%，而非真正的0                                   │
│     即使测量值为0，线路中仍有电流                            │
│     便于区分"正常零点"和"故障"                               │
│                                                             │
│  3. 供电能力                                                │
│     4mA可为两线制变送器供电                                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**4-20mA信号对应关系：**

```
电流(mA)
  20 ├────────────────────────● 满量程(100%)
     │                      ╱
  16 ├────────────────────●
     │                  ╱
  12 ├────────────────●
     │              ╱
   8 ├────────────●
     │          ╱
   4 ├────────●──────────────→ 测量值(0%)
     │
   0 ├ - - - - - - - - - - - →（断线检测区）
     │

换算公式：
测量值 = (电流 - 4) / 16 × 量程 + 下限

示例：4-20mA对应0-100°C
     4mA  → 0°C
     12mA → 50°C
     20mA → 100°C
```

### 4.2 两线制与四线制变送器

```
两线制变送器（常用）：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   24V DC电源                                                │
│      │                                                      │
│      ↓                                                      │
│   ┌──┴──┐         ┌──────────┐         ┌─────────┐         │
│   │     │ +  ────→│ 变送器    │────────→│  PLC    │         │
│   │ 电源 │         │ (两线制)  │  4-20mA │   AI    │         │
│   │     │ -  ←────│          │←────────│         │         │
│   └─────┘         └──────────┘         └─────────┘         │
│                                                             │
│   特点：信号线同时传输电源和信号，节省布线                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘

四线制变送器：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   24V DC电源 ──→ ┌──────────┐                               │
│                  │ 变送器    │                               │
│   电源地     ──→ │ (四线制)  │                               │
│                  └────┬─────┘                               │
│                       │ 4-20mA信号                          │
│                       ↓                                     │
│                  ┌─────────┐                                │
│                  │  PLC AI │                                │
│                  └─────────┘                                │
│                                                             │
│   特点：电源和信号分开，功率大，精度高                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.3 电流信号接线方式

```
4-20mA信号接线（PLC端）：

方式1：内部供电（PLC提供24V）
┌────────────────────────────────────────────────────────────┐
│                                                            │
│    PLC模拟量输入模块                    变送器              │
│   ┌─────────────────┐              ┌─────────┐            │
│   │  24V ──────────────────────────→  +     │            │
│   │                 │              │         │            │
│   │  AI+ ←──────────────────────────  -     │            │
│   │                 │              └─────────┘            │
│   │  COM ─┐         │                                     │
│   └───────┼─────────┘                                     │
│           │                                                │
│           ▼                                                │
│         接地                                               │
│                                                            │
└────────────────────────────────────────────────────────────┘

方式2：外部供电
┌────────────────────────────────────────────────────────────┐
│                                                            │
│    外部24V      变送器           PLC模拟量输入              │
│   ┌─────┐    ┌─────────┐      ┌─────────────┐            │
│   │ +24V│───→│    +    │      │             │            │
│   │     │    │         │      │    AI+      │←───┐       │
│   │  0V │    │    -    │──────│    COM      │    │       │
│   └─────┘    └─────────┘      └─────────────┘    │       │
│                   │                               │       │
│                   └───────────────────────────────┘       │
│                            4-20mA回路                      │
└────────────────────────────────────────────────────────────┘
```

### 4.4 电流信号抗干扰原理

```
电流信号抗干扰能力分析：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  电压信号受干扰：                                            │
│                                                             │
│    信号源 ──[5V]──┬──[电磁干扰+0.5V]──┬──→ PLC读取5.5V     │
│                   │                   │                     │
│                   电压叠加，无法区分                         │
│                                                             │
│  电流信号抗干扰：                                            │
│                                                             │
│    信号源 ──[12mA]──┬──[电磁干扰]──┬──→ PLC读取12mA       │
│                     │              │                        │
│                     电流回路，干扰难以改变电流值              │
│                     （除非干扰足以改变电路阻抗）              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 5. 电阻信号与热电偶

### 5.1 热电阻（RTD）

**常用热电阻类型：**

| 类型 | 0°C电阻 | 测温范围 | 特点 |
|------|--------|---------|------|
| PT100 | 100Ω | -200~850°C | 精度高，最常用 |
| PT1000 | 1000Ω | -200~850°C | 长距离传输 |
| Cu50 | 50Ω | -50~150°C | 线性好，低温用 |
| Ni100 | 100Ω | -60~180°C | 灵敏度高 |

**PT100温度-电阻对应关系：**

```
PT100特性曲线：
电阻(Ω)
  400 ├
      │                          ●
  300 ├                      ●
      │                  ●
  200 ├              ●
      │          ●
  100 ├──────●───────────────────→ 温度(°C)
      │     0°C=100Ω
    0 ├
     -200  0   100  200  300  400  500

常用温度点：
-200°C → 18.52Ω
   0°C → 100Ω
 100°C → 138.51Ω
 200°C → 175.86Ω
 300°C → 212.05Ω
```

### 5.2 热电阻接线方式

```
PT100三种接线方式：

二线制（精度低，不推荐）：
┌────────────────────────────────────────┐
│   PT100          PLC RTD模块           │
│  ┌─────┐        ┌──────────┐          │
│  │  R  │────────│ RTD+     │          │
│  │     │────────│ RTD-     │          │
│  └─────┘        └──────────┘          │
│  问题：导线电阻影响测量精度              │
└────────────────────────────────────────┘

三线制（常用，推荐）：
┌────────────────────────────────────────┐
│   PT100          PLC RTD模块           │
│  ┌─────┐        ┌──────────┐          │
│  │     │────A───│ RTD A    │          │
│  │  R  │        │          │          │
│  │     │────B───│ RTD B    │          │
│  │     │────B───│ RTD B    │          │
│  └─────┘        └──────────┘          │
│  原理：两根B线补偿导线电阻               │
└────────────────────────────────────────┘

四线制（高精度应用）：
┌────────────────────────────────────────┐
│   PT100          PLC RTD模块           │
│  ┌─────┐        ┌──────────┐          │
│  │     │────I+──│ 电流+    │          │
│  │  R  │────I-──│ 电流-    │          │
│  │     │────V+──│ 电压+    │          │
│  │     │────V-──│ 电压-    │          │
│  └─────┘        └──────────┘          │
│  原理：恒流源激励，电压测量，完全消除导线电阻│
└────────────────────────────────────────┘
```

### 5.3 热电偶（TC）

**常用热电偶类型：**

| 类型 | 分度号 | 测温范围 | 特点 |
|------|-------|---------|------|
| K型 | 镍铬-镍硅 | -200~1300°C | 最常用，性价比高 |
| J型 | 铁-康铜 | -40~750°C | 还原性气氛 |
| T型 | 铜-康铜 | -200~350°C | 低温测量 |
| E型 | 镍铬-康铜 | -200~900°C | 灵敏度最高 |
| S型 | 铂铑10-铂 | 0~1600°C | 高温精密测量 |

**热电偶工作原理：**

```
热电偶测温原理：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│       热端（测量端）                                         │
│           ╱╲                                                │
│          ╱  ╲  T1（被测温度）                               │
│         ╱    ╲                                              │
│    金属A│      │金属B                                       │
│        │      │                                             │
│        │      │                                             │
│    ────┴──────┴────  T0（冷端/参考端）                      │
│         │    │                                              │
│         │ mV │ ← 热电势（与温差成正比）                      │
│         │    │                                              │
│    ┌────┴────┴────┐                                        │
│    │   PLC TC模块  │                                        │
│    │  (冷端补偿)   │                                        │
│    └──────────────┘                                        │
│                                                             │
│   E = f(T1) - f(T0)                                        │
│   PLC模块内部进行冷端温度补偿                                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

**【阶段总结2】** 已介绍：
1. 4-20mA电流信号的优势（断线检测、活零点）
2. 两线制与四线制变送器的区别和接线
3. 电流信号的抗干扰原理
4. 热电阻（PT100等）的类型和三种接线方式
5. 热电偶的类型和工作原理

继续填充A/D转换和分辨率部分：

---

## 6. A/D转换原理

### 6.1 什么是A/D转换？

**A/D转换（Analog to Digital Conversion）** 是将连续的模拟信号转换为离散的数字信号的过程。

```
A/D转换过程示意：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  模拟信号            采样保持           量化编码            │
│     │                  │                  │                 │
│     ↓                  ↓                  ↓                 │
│   ╭──╮              ●  ●               1011              │
│  ╱    ╲            ●    ●  ●           1001              │
│ ╱      ╲──       ●        ●           0111              │
│                 ●            ●         0101              │
│                ●              ●        0011              │
│               ●                        0001              │
│                                                             │
│  连续信号    →    离散采样    →    数字量输出              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 6.2 A/D转换的三个步骤

```
A/D转换三步骤：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  步骤1：采样（Sampling）                                     │
│  ├─按固定时间间隔获取模拟信号瞬时值                          │
│  └─采样频率应满足奈奎斯特定理：fs ≥ 2×fmax                  │
│                                                             │
│  步骤2：保持（Hold）                                         │
│  ├─在A/D转换期间保持采样值不变                              │
│  └─采样保持电路（S/H）实现                                  │
│                                                             │
│  步骤3：量化编码（Quantization & Encoding）                  │
│  ├─将保持的模拟值转换为最接近的数字值                        │
│  └─编码为二进制数输出                                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 6.3 PLC中的A/D转换

```
PLC模拟量输入处理流程：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   传感器 → 信号调理 → A/D转换 → 数字滤波 → 工程量换算       │
│     │         │         │         │           │            │
│   4-20mA   放大/滤波  12/16位   平均值    温度/压力值        │
│   0-10V    隔离保护   转换器    中值滤波                     │
│                                                             │
│   示例（西门子S7-1200）：                                    │
│   ┌─────────────────────────────────────────┐              │
│   │  4-20mA输入                              │              │
│   │     ↓                                    │              │
│   │  A/D转换（16位）                         │              │
│   │     ↓                                    │              │
│   │  原始值范围：0 ~ 27648                   │              │
│   │  （4mA=0, 20mA=27648）                   │              │
│   │     ↓                                    │              │
│   │  用户程序换算为工程量                     │              │
│   └─────────────────────────────────────────┘              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 6.4 常见A/D转换器参数

| 参数 | 说明 | 典型值 |
|------|------|--------|
| 分辨率 | 输出数字量的位数 | 12位、14位、16位 |
| 转换时间 | 完成一次转换所需时间 | 1μs ~ 100ms |
| 输入范围 | 可接受的模拟量范围 | 0-10V、4-20mA |
| 精度 | 转换误差 | ±0.1% ~ ±1% |
| 通道数 | 模拟输入点数 | 4/8/16通道 |

---

## 7. D/A转换原理

### 7.1 什么是D/A转换？

**D/A转换（Digital to Analog Conversion）** 是将数字信号转换为模拟信号的过程，与A/D转换相反。

```
D/A转换过程示意：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  数字信号           D/A转换            模拟输出             │
│                                                             │
│   1011  ──┐       ┌────────┐        ╭──                    │
│   1001  ──┼──────→│  D/A   │───────╱                       │
│   0111  ──┤       │ 转换器  │──────╱                        │
│   0101  ──┤       └────────┘─────╱                         │
│   0011  ──┘                ────╱                           │
│                          ──╱                               │
│                                                             │
│  离散数字量    →    转换    →    连续模拟量                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 7.2 PLC中的D/A转换

```
PLC模拟量输出处理流程：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   工程量 → 数字量换算 → D/A转换 → 信号调理 → 执行器         │
│     │          │          │         │          │           │
│  设定值    0~27648    模拟电压   放大驱动   变频器          │
│  (50%)    (13824)     /电流               阀门             │
│                                                             │
│   应用示例：                                                │
│   ┌─────────────────────────────────────────┐              │
│   │  PLC输出50%控制量                        │              │
│   │     ↓                                    │              │
│   │  程序计算：50% × 27648 = 13824          │              │
│   │     ↓                                    │              │
│   │  D/A转换：13824 → 12mA                   │              │
│   │     ↓                                    │              │
│   │  变频器接收12mA → 输出25Hz               │              │
│   └─────────────────────────────────────────┘              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 7.3 D/A转换输出类型

| 输出类型 | 范围 | 应用场景 |
|---------|------|---------|
| 电压输出 | 0-10V、±10V | 伺服驱动、本地控制 |
| 电流输出 | 4-20mA、0-20mA | 远程控制、阀门 |
| PWM输出 | 占空比0-100% | 加热控制、调光 |

---

## 8. 分辨率与精度

### 8.1 分辨率（Resolution）

**分辨率** 是指A/D或D/A转换器能够分辨的最小信号变化量。

```
分辨率计算：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  分辨率 = 满量程 / 2^n                                      │
│                                                             │
│  n = 转换位数                                               │
│                                                             │
│  示例计算（0-10V输入）：                                     │
│  ┌──────────┬────────────┬────────────────┐                │
│  │  位数    │   级数     │   分辨率        │                │
│  ├──────────┼────────────┼────────────────┤                │
│  │  8位     │   256      │  39.06mV       │                │
│  │  10位    │   1024     │  9.77mV        │                │
│  │  12位    │   4096     │  2.44mV        │                │
│  │  14位    │   16384    │  0.61mV        │                │
│  │  16位    │   65536    │  0.15mV        │                │
│  └──────────┴────────────┴────────────────┘                │
│                                                             │
│  结论：位数越高，分辨率越高，能分辨更小的变化                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 8.2 精度（Accuracy）

**精度** 是指转换结果与真实值之间的偏差。

```
分辨率与精度的区别：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  高分辨率 ≠ 高精度                                          │
│                                                             │
│  分辨率：能够区分多细的差别（刻度密度）                      │
│  精度：测量结果与真实值的接近程度                            │
│                                                             │
│  类比：                                                      │
│  ┌────────────────────────────────────────────────────┐    │
│  │ 分辨率高、精度高：        分辨率高、精度低：         │    │
│  │     ●                         ●●●                   │    │
│  │    ●●●   靶心               ●●●      靶心           │    │
│  │     ●                         ●                     │    │
│  │  （准确命中）             （精密但偏离）             │    │
│  └────────────────────────────────────────────────────┘    │
│                                                             │
│  影响精度的因素：                                            │
│  • 转换器固有误差                                           │
│  • 温度漂移                                                 │
│  • 电源波动                                                 │
│  • 接线及接地                                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 8.3 工程量换算公式

```
标准换算公式：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  模拟量输入（A/D）换算：                                     │
│                                                             │
│              (原始值 - 原始下限)                             │
│  工程值 = ─────────────────────── × (工程上限 - 工程下限) + 工程下限
│              (原始上限 - 原始下限)                           │
│                                                             │
│  示例：西门子S7-1200，4-20mA输入，测量0-100°C               │
│  原始值范围：0 ~ 27648                                      │
│  当前原始值：13824                                          │
│                                                             │
│              (13824 - 0)                                    │
│  温度 = ──────────────── × (100 - 0) + 0 = 50°C            │
│              (27648 - 0)                                    │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  模拟量输出（D/A）换算：                                     │
│                                                             │
│              (工程值 - 工程下限)                             │
│  原始值 = ─────────────────────── × (原始上限 - 原始下限) + 原始下限
│              (工程上限 - 工程下限)                           │
│                                                             │
│  示例：输出50%控制量（0-100%对应0-27648）                   │
│                                                             │
│              (50 - 0)                                       │
│  原始值 = ────────────── × (27648 - 0) + 0 = 13824         │
│              (100 - 0)                                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

**【阶段总结3】** 已介绍：
1. A/D转换的概念和三个步骤（采样、保持、量化编码）
2. PLC中A/D转换的处理流程
3. D/A转换的原理和输出类型
4. 分辨率的计算方法（满量程/2^n）
5. 精度与分辨率的区别
6. 工程量换算的标准公式

继续完成本节剩余内容：

---

## 9. 各品牌PLC模拟量模块

### 9.1 西门子S7-1200/1500模拟量模块

| 模块型号 | 类型 | 通道数 | 分辨率 | 信号类型 |
|---------|------|--------|--------|----------|
| SM1231 AI | 输入 | 4/8 | 16位 | 电压/电流/RTD |
| SM1232 AO | 输出 | 2/4 | 16位 | 电压/电流 |
| SM1234 AI/AO | 混合 | 4AI+2AO | 16位 | 电压/电流 |

**西门子模拟量数值范围：**

```
西门子模拟量标准化数值：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  输入信号          数值范围           说明                  │
│  ├─4-20mA         0 ~ 27648         标准量程               │
│  ├─0-20mA         0 ~ 27648         标准量程               │
│  ├─0-10V          0 ~ 27648         标准量程               │
│  ├─±10V          -27648 ~ +27648    双极性                │
│  └─±5V           -27648 ~ +27648    双极性                │
│                                                             │
│  超量程/欠量程：                                            │
│  ├─正超量程       27649 ~ 32511                            │
│  ├─正溢出         32512 ~ 32767                            │
│  ├─负欠量程       -32513 ~ -1                              │
│  └─负溢出         -32768 ~ -32513                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 9.2 三菱FX系列模拟量模块

| 模块型号 | 类型 | 通道数 | 分辨率 | 信号类型 |
|---------|------|--------|--------|----------|
| FX3U-4AD | 输入 | 4 | 12位 | 电压/电流 |
| FX3U-4DA | 输出 | 4 | 12位 | 电压/电流 |
| FX3U-4AD-PT | 输入 | 4 | 16位 | PT100 |
| FX3U-4AD-TC | 输入 | 4 | 16位 | 热电偶 |

**三菱模拟量数值范围：**

```
三菱FX3U模拟量数值：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  FX3U-4AD（12位分辨率）：                                    │
│  ├─0-10V 输入      数字值：0 ~ 4000                         │
│  ├─-10~+10V 输入   数字值：-4000 ~ +4000                    │
│  ├─4-20mA 输入     数字值：0 ~ 4000                         │
│  └─0-20mA 输入     数字值：0 ~ 4000                         │
│                                                             │
│  FX3U-4DA（12位分辨率）：                                    │
│  ├─0-10V 输出      数字值：0 ~ 4000                         │
│  ├─-10~+10V 输出   数字值：-4000 ~ +4000                    │
│  └─4-20mA 输出     数字值：0 ~ 4000                         │
│                                                             │
│  缓冲存储器（BFM）寻址：                                     │
│  ├─BFM#0: 通道1数据                                         │
│  ├─BFM#1: 通道2数据                                         │
│  ├─BFM#2: 通道3数据                                         │
│  └─BFM#3: 通道4数据                                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 9.3 欧姆龙CP1H内置模拟量

```
CP1H内置模拟量规格：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  CP1H-XA型号内置：                                          │
│  ├─4路模拟输入（0-10V，分辨率6000）                         │
│  └─2路模拟输出（0-10V，分辨率6000）                         │
│                                                             │
│  数据存储区：                                                │
│  ├─输入：D100（通道1）~ D103（通道4）                       │
│  └─输出：D110（通道1）~ D111（通道2）                       │
│                                                             │
│  换算示例（0-10V对应0-6000）：                               │
│  ├─5V输入  → D100 = 3000                                   │
│  └─输出3000 → 输出5V                                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 本节小结

```
模拟量基础知识要点：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  模拟量概念        信号类型          A/D转换                │
│  ├─连续变化        ├─电压0-10V       ├─采样                │
│  ├─物理量对应      ├─电压±10V        ├─保持                │
│  └─需要转换        ├─电流4-20mA      └─量化编码            │
│                    ├─电阻PT100                              │
│                    └─热电偶K/J/T型                          │
│                                                             │
│  D/A转换           分辨率与精度       工程换算               │
│  ├─数字转模拟      ├─分辨率=2^n      ├─线性比例            │
│  ├─控制输出        ├─精度≠分辨率     ├─上下限映射          │
│  └─驱动执行器      └─综合考虑        └─标准公式            │
│                                                             │
│  关键记忆点：                                                │
│  • 4-20mA优于0-20mA（断线检测）                             │
│  • PT100用三线制接线                                        │
│  • 热电偶需要冷端补偿                                        │
│  • 分辨率越高，细分越精确                                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 练习题

### 基础题

1. 模拟量与数字量的主要区别是什么？
2. 为什么工业上常用4-20mA而不是0-20mA信号？
3. PT100热电阻在0°C时的电阻值是多少？
4. 12位A/D转换器的分辨率是多少级？

### 计算题

1. 某压力变送器量程0-1MPa，输出4-20mA。当输出电流为10mA时，对应压力是多少？
2. 西门子S7-1200模拟量输入原始值为20000，量程为0-100°C，计算对应温度。
3. 需要输出60%的控制量（0-100%对应0-27648），应输出的原始值是多少？

### 思考题

1. 为什么电流信号比电压信号抗干扰能力强？
2. 高分辨率就意味着高精度吗？为什么？
3. 选择传感器时，应考虑哪些因素？

---

## 拓展阅读

- 西门子S7-1200系统手册：模拟量模块
- 三菱FX编程手册：特殊功能模块
- 工业仪表选型指南
- 信号传输与抗干扰技术

---

*本节完*
